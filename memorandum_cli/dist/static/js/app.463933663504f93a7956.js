webpackJsonp([1],{"5XNv":function(t,a){},NHnr:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n=e("7+uW"),s={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"side-bar"},t._l(t.navMenu,function(a){return e("div",{staticClass:"inline-level"},[e("div",{staticClass:"span-title"},[t._v(t._s(a.label))]),t._v(" "),e("div",{staticClass:"span-content"},[e("ul",t._l(a.items,function(a,n){return e("li",[e("router-link",{attrs:{to:a.url}},[t._v(t._s(a.label))])],1)}))])])}))},staticRenderFns:[]};var r={name:"App",components:{navMenus:e("VU/8")({data:function(){return{navMenu:[{label:"工作",items:[{url:"undone",label:"所有工作"},{url:"done",label:"已完成"}]}]}}},s,!1,function(t){e("5XNv")},null,null).exports}},i={render:function(){var t=this.$createElement,a=this._self._c||t;return a("main",{staticClass:"main",attrs:{id:"app"}},[a("nav-menus"),this._v(" "),a("div",{staticClass:"main-content"},[a("div",{attrs:{id:"content"}},[a("router-view")],1)])],1)},staticRenderFns:[]},o=e("VU/8")(r,i,!1,null,null,null).exports,l=e("/ocq"),u=e("fZjL"),c=e.n(u),v=e("BO1k"),m=e.n(v),d=e("mvHQ"),f=e.n(d),p=e("mtWM"),h=e.n(p),_=(e("1nuA"),{props:["showFilter","taskStatus","buttonItems"],data:function(){return{tasks:[],statsButton:[{name:"已完成",className:"class-done"},{name:"进行中",className:"class-running"},{name:"计划中",className:"class-plan"}]}},methods:{changeStatus:function(t){var a=this,e=t.target;if("button"===e.tagName.toLowerCase()&&(t.stopPropagation(),confirm("确定改状态么？"))){var n={params:{uuid:e.id,status:e.innerText}};h.a.get("http://localhost:9999/change_status",n).then(function(t){a.getTasks()}).catch(function(t){console.log(123123,t)})}},fullWidth:function(t){return t<10?"0"+t:t},deleteTask:function(t){var a=this;if(confirm("确定要删除吗 ？")){var e={params:{uuid:t}};h.a.get("http://localhost:9999/del_task",e).then(function(t){a.getTasks()}).catch(function(t){console.log(123123,t)})}},getYMD:function(t){var a=new Date(1e3*t);return[a.getFullYear(),this.fullWidth(a.getMonth()+1),this.fullWidth(a.getDate())].join("-")+" "+{0:"Sun",1:"Mon",2:"Tue",3:"Wed",4:"Thu",5:"Fri",6:"Sat"}[a.getDay()]},getTasks:function(){var t=this,a={params:{status:this.taskStatus}};h.a.get("http://localhost:9999/getRecord",a).then(function(a){var e=!0,n=!1,s=void 0;try{for(var r,i=m()(a.data);!(e=(r=i.next()).done);e=!0){var o=r.value;o.modifyTime=t.getYMD(o.modifyTime)}}catch(t){n=!0,s=t}finally{try{!e&&i.return&&i.return()}finally{if(n)throw s}}t.tasks=a.data}).catch(function(t){console.log(123123,t)})}},created:function(){this.getTasks()}}),k={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"runnging-task-block"},[e("hr"),t._v(" "),e("label",{directives:[{name:"show",rawName:"v-show",value:t.showFilter,expression:"showFilter"}],staticStyle:{margin:"0 0 0 5px"}},[t._v("任务状态：\n    "),t._m(0)]),t._v(" "),e("div",{staticClass:"runnging-task-item"},[e("table",[t._m(1),t._v(" "),e("tbody",{attrs:{id:"runnging-task"}},t._l(t.tasks,function(a){return e("tr",{attrs:{id:a.uuid}},[e("td",{attrs:{title:a.priority}},t._l(a.priority,function(t){return e("i",{staticClass:"fa fa-star priority-star"})})),t._v(" "),e("td",[t._v(t._s(a.taskType))]),t._v(" "),e("td",[t._v(t._s(a.taskDesc))]),t._v(" "),e("td",[t._v(t._s(a.modifyTime))]),t._v(" "),e("td",{attrs:{title:"切换任务状态"},on:{click:function(a){t.changeStatus(a)}}},t._l(t.buttonItems,function(n){return e("button",{staticClass:"stausSpan",class:[n.name==a.status?n.className:""],attrs:{disabled:n.name==a.status}},[t._v(t._s(n.name))])})),t._v(" "),e("td",[e("button",{staticClass:"detele-task",on:{click:function(e){t.deleteTask(a.uuid)}}},[t._v("删除任务")])])])}))])])])},staticRenderFns:[function(){var t=this.$createElement,a=this._self._c||t;return a("select",{attrs:{onchange:"listTask(value)"}},[a("option",{attrs:{value:"all"}},[this._v("全部")]),this._v(" "),a("option",{attrs:{value:"计划中"}},[this._v("计划中")]),this._v(" "),a("option",{attrs:{value:"进行中"}},[this._v("进行中")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("thead",[e("tr",[e("th",[t._v("优先级")]),t._v(" "),e("th",[t._v("类别")]),t._v(" "),e("th",{staticStyle:{width:"40%"}},[t._v("任务描述")]),t._v(" "),e("th",[t._v("创建日期")]),t._v(" "),e("th",[t._v("状态")]),t._v(" "),e("th",[t._v("操作")])])])}]},g=e("VU/8")(_,k,!1,null,null,null).exports,y=(e("mw3O"),{components:{taskList:g},data:function(){return{showForm:!1,taskStatus:"undone",showFilter:!0,buttonItems:[{name:"进行中",className:"class-running"},{name:"计划中",className:"class-plan"},{name:"已完成",className:"class-done"}],priorityList:[{value:1,name:"贼低"},{value:2,name:"一般"},{value:3,name:"贼高"}],isStartList:[{value:!0,name:"是"},{value:!1,name:"否"}],initFormData:{priority:1,taskType:"",taskDesc:"",isStart:!1},formData:{}}},methods:{_initFormData:function(){this.formData=JSON.parse(f()(this.initFormData)),this.showForm=!0},S4:function(){return(65536*(1+Math.random())|0).toString(16).substring(1)},guid:function(){var t=this.S4;return t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()},checkFormVaild:function(t){var a=!0,e=!1,n=void 0;try{for(var s,r=m()(c()(t));!(a=(s=r.next()).done);a=!0){var i=s.value;if(void 0===t[i]||null===t[i]||""===t[i])return!1}}catch(t){e=!0,n=t}finally{try{!a&&r.return&&r.return()}finally{if(e)throw n}}return!0},addTask:function(){var t=this;this.checkFormVaild(this.formData)?(this.formData.uuid=this.guid(),this.showForm=!1,h.a.post("http://localhost:9999/add_task",this.formData,{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(a){t.$refs.taskList.getTasks()}).catch(function(t){console.log(123123,t)})):alert("输入框不能为空")},taskCleanAndHiden:function(){this.showForm=!1}}}),b={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{attrs:{id:"content"}},[e("button",{staticStyle:{"background-color":"#d8bc2b"},on:{click:function(a){t._initFormData()}}},[t._v("新建任务")]),t._v(" "),e("form",{directives:[{name:"show",rawName:"v-show",value:t.showForm,expression:"showForm"}],attrs:{action:"",method:"POST",id:"addTask"}},[e("div",[e("label",[t._v("\n        优先级别：\n        "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.formData.priority,expression:"formData.priority"}],on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.formData,"priority",a.target.multiple?e:e[0])}}},t._l(t.priorityList,function(a){return e("option",{domProps:{value:a.value}},[t._v(t._s(a.name))])}))])]),t._v(" "),e("div",[e("label",[t._v("\n        任务类别：\n        "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.taskType,expression:"formData.taskType"}],attrs:{type:"text",autofocus:"",placeholder:"请输入任务类别",required:"1",autocomplete:"off"},domProps:{value:t.formData.taskType},on:{input:function(a){a.target.composing||t.$set(t.formData,"taskType",a.target.value)}}})])]),t._v(" "),e("div",[e("label",[t._v("\n        任务描述：\n        "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.taskDesc,expression:"formData.taskDesc"}],staticStyle:{width:"400px"},attrs:{type:"text",placeholder:"请输入任务描述",required:"",autocomplete:"off"},domProps:{value:t.formData.taskDesc},on:{input:function(a){a.target.composing||t.$set(t.formData,"taskDesc",a.target.value)}}})])]),t._v(" "),e("div",[e("label",[t._v("\n        马上开始：\n        "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.formData.isStart,expression:"formData.isStart"}],on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.formData,"isStart",a.target.multiple?e:e[0])}}},t._l(t.isStartList,function(a){return e("option",{domProps:{value:a.value}},[t._v(t._s(a.name))])}))])]),t._v(" "),e("input",{attrs:{type:"button",value:"取消任务"},on:{click:function(a){t.taskCleanAndHiden()}}}),t._v(" "),e("input",{staticStyle:{"background-color":"#c37574",color:"#fff","border-radius":"4px"},attrs:{type:"button",value:"添加任务"},on:{click:function(a){t.addTask()}}})]),t._v(" "),e("task-list",{ref:"taskList",attrs:{taskStatus:t.taskStatus,"show-filter":t.showFilter,"button-items":t.buttonItems}})],1)},staticRenderFns:[]},w=e("VU/8")(y,b,!1,null,null,null).exports,D={data:function(){return{taskStatus:"已完成",buttonItems:[{name:"已完成",className:"class-done"}]}},components:{taskList:g}},S={render:function(){var t=this.$createElement,a=this._self._c||t;return a("div",{attrs:{id:"content"}},[a("task-list",{attrs:{taskStatus:this.taskStatus,"button-items":this.buttonItems}})],1)},staticRenderFns:[]},T=e("VU/8")(D,S,!1,null,null,null).exports;n.a.use(l.a);var F=new l.a({routes:[{path:"/undone",component:w},{path:"/done",component:T},{path:"*",redirect:"/undone"}]});n.a.config.productionTip=!1,new n.a({el:"#app",router:F,components:{App:o},template:"<App/>"})}},["NHnr"]);
//# sourceMappingURL=app.463933663504f93a7956.js.map